Solr processors

Implements processors for use in the Solr update request processor chain.

The project contains the following processors:

- HTMLStripCharFilterProcessor


============================
HTMLStripCharFilterProcessor
============================

The HTMLStripCharFilterProcessor makes it possible to run the character filter HTMLStripCharFilter on a field before it's delivered to Solr for indexing. This can be especially convient when the application doing the indexing is not controlled by you. This can be a content management system sending fields with markup that you want to use for highligthing and therefore needs to markup removed for it to really be usable.

You configure the HTMLStripCharFilterProcessor, in solrconfig.xml, as follows:

1) Define a updateRequestProcessorChain as shown below

<updateRequestProcessorChain name="fishy">
  <processor class="dk.industria.solr.processors.HTMLStripCharFilterProcessorFactory">
    <str name="field">rubrik_text</str>
    <str name="field">underrubrik_text</str>
    <str name="field">broedtekst_text</str>
    <str name="field">section</str> <!-- For debugging multi value fields -->
  </processor>
  <processor class="solr.LogUpdateProcessorFactory" />
  <processor class="solr.RunUpdateProcessorFactory" />
</updateRequestProcessorChain>

the <str name="field> elements allows you to configure the fields the processor will run HTMLStripCharFilter on.


2) Register the processor chain with your update request handler as shown below

<requestHandler name="/update" class="solr.XmlUpdateRequestHandler">
  <lst name="defaults">
    <str name="update.processor">fishy</str>
  </lst>
</requestHandler>

3) Make the JAR file available in the classpath. 
  
If you are running Solr with multiple cores define a shared lib in the solr.xml and place the JAR in the folder. Solr will add the files in that folder to the classpath.


   
